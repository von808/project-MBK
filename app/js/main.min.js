document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".asd");if(document.querySelector(".input-file__wrapper")){const e=document.getElementById("file-output-imgs"),t=document.getElementById("input-file-imgs"),o=document.getElementById("input-file-imgs-clear");t.addEventListener("change",(o=>{const r=o.target.files;e.textContent="",t.closest(".input-file__wrapper").classList.add("file-added");for(const t of r){const o=document.createElement("li");o.textContent=t.name,e.appendChild(o)}})),o.addEventListener("click",(function(){t.value="",t.closest(".input-file__wrapper").classList.remove("file-added")}),!1);const r=document.getElementById("file-output-ava"),n=document.getElementById("input-file-ava"),s=document.getElementById("input-file-ava-clear");n.addEventListener("change",(e=>{const t=e.target.files;r.textContent="",n.closest(".input-file__wrapper").classList.add("file-added");for(const e of t){const t=document.createElement("li");t.textContent=e.name,r.appendChild(t)}})),s.addEventListener("click",(function(){n.value="",n.closest(".input-file__wrapper").classList.remove("file-added")}),!1)}const e=document.querySelector(".burger__open"),t=document.querySelector(".burger__close"),o=document.querySelectorAll(".burger-close"),r=document.querySelector(".burger-overlay"),n=document.querySelector(".burger__menu");function s(){r.classList.remove("burger-show"),document.body.classList.remove("body-lock")}e.addEventListener("click",(()=>{r.classList.add("burger-show"),document.body.classList.add("body-lock")})),t.addEventListener("click",(()=>{s()})),o.forEach((e=>{e.addEventListener("click",(()=>{s()}))})),r.addEventListener("click",(()=>{s()})),n.addEventListener("click",(e=>{e.stopPropagation()}));const l=document.querySelectorAll(".modal-open"),c=document.querySelectorAll(".modal-close"),i=document.querySelector(".modal-overlay "),a=document.querySelectorAll(".modal");l.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-path");a.forEach((e=>{e.classList.remove("modal--visible")})),document.querySelector(`[data-target="${t}"]`).classList.add("modal--visible"),i.classList.add("modal-overlay--visible")}))})),c.forEach((e=>{e.addEventListener("click",(e=>{e.currentTarget.getAttribute("data-path");a.forEach((e=>{e.classList.remove("modal--visible"),i.classList.remove("modal-overlay--visible")}))}))})),i.addEventListener("click",(e=>{e.target==i&&(i.classList.remove("modal-overlay--visible"),a.forEach((e=>{e.classList.remove("modal--visible")})))}));let d=document.querySelectorAll('input[type="tel"]');new Inputmask("+7 (999) 999-99-99").mask(d);let u=document.querySelectorAll(".js-form"),m=document.querySelectorAll(".js-input"),p=document.querySelector(".js-input-email"),v=document.querySelector(".js-input-phone");function w(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function y(e){return/^[0-9\s]*$/.test(String(e))}u.forEach((e=>{e.onsubmit=function(){let e=p.value,t=v.value,o=Array.from(m).filter((e=>""===e.value));return m.forEach((function(o){if(""===o.value)o.classList.add("error");else if(o.classList.remove("error"),""===p.value||(w(e)?p.classList.remove("errorEmail"):p.classList.add("errorEmail")),""===v.value);else{if(!y(t))return v.classList.add("error"),!1;v.classList.remove("error")}})),0===o.length&&(w(e)?(p.classList.remove("errorEmail"),y(t)?void v.classList.remove("error"):(v.classList.add("error"),!1)):(p.classList.add("errorEmail"),!1))}})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),document.querySelectorAll(".dropdown").forEach((function(e){const t=e.querySelector(".dropdown__button"),o=e.querySelector(".dropdown__list"),r=o.querySelectorAll(".dropdown__list-item"),n=e.querySelector(".dropdown__input-hidden");t.addEventListener("click",(function(e){o.classList.toggle("dropdown__list--visible"),this.classList.add("dropdown__button--active")})),r.forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation(),t.innerHTML=this.innerHTML,t.focus(),n.value=this.dataset.value,o.classList.remove("dropdown__list--visible")}))})),document.addEventListener("click",(function(e){e.target!==t&&(t.classList.remove("dropdown__button--active"),o.classList.remove("dropdown__list--visible"))})),document.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("dropdown__button--active"),o.classList.remove("dropdown__list--visible"))}))}));var f=new Swiper(".intro__swiper",{a11y:!1,slidesPerView:1,spaceBetween:0,allowTouchMove:!1,effect:"fade",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-line"}});new Swiper(".shares__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:20,breakpoints:{769:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".reviews__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{769:{slidesPerView:"auto",spaceBetween:94}}}),new Swiper(".main-news__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:20}),new Swiper(".team__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{769:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".services-object__swiper",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next--obj",prevEl:".swiper-button-prev--obj"}}),new Swiper(".news-open__swiper",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".projects-object__swiper-images",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".projects-object__swiper-plans",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});let b=document.querySelector(".intro");if(b){const e=document.querySelector(".header");e.nextElementSibling.querySelector(".intro")&&e.classList.add("header-absolute")}if(document.querySelector(".intro__swiper")){const e=document.querySelector(".swiper-index-current"),t=document.querySelector(".swiper-index-max");let o=b.querySelectorAll(".swiper-slide").length;o<10&&(o=`0${o}`),t.innerHTML=o,f.on("transitionEnd",(function(){let t=f.realIndex+1;t<10&&(t=`0${t}`),e.innerHTML=t}))}const h=document.querySelectorAll(".tab-btn"),E=document.querySelectorAll(".tab-item");h.forEach((function(e){e.addEventListener("click",(function(){let t=e,o=t.getAttribute("data-tab"),r=document.querySelector(o);t.classList.contains("tab-active")||(h.forEach((function(e){e.classList.remove("tab-active")})),E.forEach((function(e){e.classList.remove("tab-active")})),t.classList.add("tab-active"),r.classList.add("tab-active"))}))}));const L=document.querySelectorAll('.btn-up[href*="#"]');for(let e of L)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}));const g=document.getElementById("btn-up");if(window.addEventListener("scroll",(()=>{window.scrollY>=1500?g.classList.add("btn-up-show"):g.classList.remove("btn-up-show")})),document.querySelector(".accardion")&&(document.querySelectorAll(".nav__item-head").forEach((e=>{e.addEventListener("click",(()=>{let t=e.nextElementSibling;t.style.maxHeight?(document.querySelectorAll(".nav__item-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".nav__item-body").forEach((e=>e.closest(".accardion").classList.remove("accardion-show")))):(document.querySelectorAll(".nav__item-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".nav__item-body").forEach((e=>e.closest(".accardion").classList.remove("accardion-show"))),t.style.maxHeight=t.scrollHeight+"px",e.closest(".accardion").classList.add("accardion-show"))}))})),document.querySelectorAll(".accardion-head").forEach((e=>{e.addEventListener("click",(()=>{let t=e.nextElementSibling;t.style.maxHeight?(document.querySelectorAll(".accardion-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".accardion-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show")))):(document.querySelectorAll(".accardion-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".accardion-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show"))),t.style.maxHeight=t.scrollHeight+"px",e.closest(".accardion-item").classList.add("accardion-show"))}))})),document.querySelectorAll(".faq-head").forEach((e=>{e.addEventListener("click",(()=>{let t=e.nextElementSibling;t.style.maxHeight?(document.querySelectorAll(".faq-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".faq-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show")))):(document.querySelectorAll(".faq-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".faq-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show"))),t.style.maxHeight=t.scrollHeight+"px",e.closest(".accardion-item").classList.add("accardion-show"))}))}))),document.querySelector(".map")){ymaps.ready((function(){let e=new ymaps.Map("map",{center:[59.932684,30.358061],zoom:14}),t=new ymaps.Placemark([59.929984,30.362161],{},{iconLayout:"default#image",iconImageHref:"images/icons/map-marker.svg",iconImageSize:[96,126],iconImageOffset:[-95,-125]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"]),e.geoObjects.add(t)}))}}));