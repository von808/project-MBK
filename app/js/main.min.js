document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".asd");if(gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".achievements__item").forEach((e=>{gsap.from(e,{scrollTrigger:{trigger:e,start:"0 85%",onToggle:()=>e.classList.add("animate")}})})),document.querySelector(".page__about-company")){gsap.timeline().fromTo(".about-company__title",{opacity:0,y:50},{opacity:1,y:0,duration:1.1},.2).fromTo(".about-company__video",{opacity:0,y:50},{opacity:1,y:0,duration:1.1},.4)}if(Fancybox.bind("[data-fancybox]",{contentClick:"toggleCover",Images:{zoom:!1,initialSize:"fit",Panzoom:{panMode:"mousemove",mouseMoveFactor:1.1,mouseMoveFriction:.12}}}),document.querySelector(".input-file__wrapper")){const e=document.getElementById("file-output-imgs"),t=document.getElementById("input-file-imgs"),o=document.getElementById("input-file-imgs-clear");t.addEventListener("change",(o=>{const r=o.target.files;e.textContent="",t.closest(".input-file__wrapper").classList.add("file-added");for(const t of r){const o=document.createElement("li");o.textContent=t.name,e.appendChild(o)}})),o.addEventListener("click",(function(){t.value="",t.closest(".input-file__wrapper").classList.remove("file-added")}),!1);const r=document.getElementById("file-output-ava"),n=document.getElementById("input-file-ava"),i=document.getElementById("input-file-ava-clear");n.addEventListener("change",(e=>{const t=e.target.files;r.textContent="",n.closest(".input-file__wrapper").classList.add("file-added");for(const e of t){const t=document.createElement("li");t.textContent=e.name,r.appendChild(t)}})),i.addEventListener("click",(function(){n.value="",n.closest(".input-file__wrapper").classList.remove("file-added")}),!1)}const e=document.querySelector(".burger__open"),t=document.querySelector(".burger__close"),o=document.querySelectorAll(".burger-close"),r=document.querySelector(".burger-overlay"),n=document.querySelector(".burger__menu");function i(){r.classList.remove("burger-show"),document.body.classList.remove("body-lock")}e.addEventListener("click",(()=>{r.classList.add("burger-show"),document.body.classList.add("body-lock")})),t.addEventListener("click",(()=>{i()})),o.forEach((e=>{e.addEventListener("click",(()=>{i()}))})),r.addEventListener("click",(()=>{i()})),n.addEventListener("click",(e=>{e.stopPropagation()}));const s=document.querySelectorAll(".modal-open"),c=document.querySelectorAll(".modal-close"),a=document.querySelector(".modal-overlay "),l=document.querySelectorAll(".modal");s.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-path");l.forEach((e=>{e.classList.remove("modal--visible")})),document.querySelector(`[data-target="${t}"]`).classList.add("modal--visible"),a.classList.add("modal-overlay--visible")}))})),c.forEach((e=>{e.addEventListener("click",(e=>{e.currentTarget.getAttribute("data-path");l.forEach((e=>{e.classList.remove("modal--visible"),a.classList.remove("modal-overlay--visible")}))}))})),a.addEventListener("click",(e=>{e.target==a&&(a.classList.remove("modal-overlay--visible"),l.forEach((e=>{e.classList.remove("modal--visible")})))}));let d=document.querySelectorAll('input[type="tel"]');new Inputmask("+7 (999) 999-99-99").mask(d);let u=document.querySelectorAll(".js-form"),m=document.querySelectorAll(".js-input"),p=document.querySelector(".js-input-email"),y=document.querySelector(".js-input-phone");function v(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function w(e){return/^[0-9\s]*$/.test(String(e))}u.forEach((e=>{e.onsubmit=function(){let e=p.value,t=y.value,o=Array.from(m).filter((e=>""===e.value));return m.forEach((function(o){if(""===o.value)o.classList.add("error");else if(o.classList.remove("error"),""===p.value||(v(e)?p.classList.remove("errorEmail"):p.classList.add("errorEmail")),""===y.value);else{if(!w(t))return y.classList.add("error"),!1;y.classList.remove("error")}})),0===o.length&&(v(e)?(p.classList.remove("errorEmail"),w(t)?void y.classList.remove("error"):(y.classList.add("error"),!1)):(p.classList.add("errorEmail"),!1))}})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),document.querySelectorAll(".dropdown").forEach((function(e){const t=e.querySelector(".dropdown__button"),o=e.querySelector(".dropdown__list"),r=o.querySelectorAll(".dropdown__list-item"),n=e.querySelector(".dropdown__input-hidden");t.addEventListener("click",(function(e){o.classList.toggle("dropdown__list--visible"),this.classList.add("dropdown__button--active")})),r.forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation(),t.innerHTML=this.innerHTML,t.focus(),n.value=this.dataset.value,o.classList.remove("dropdown__list--visible")}))})),document.addEventListener("click",(function(e){e.target!==t&&(t.classList.remove("dropdown__button--active"),o.classList.remove("dropdown__list--visible"))})),document.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("dropdown__button--active"),o.classList.remove("dropdown__list--visible"))}))}));new Swiper(".intro__swiper",{a11y:!1,slidesPerView:1,spaceBetween:0,allowTouchMove:!1,effect:"fade",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-line"},pagination:{el:".swiper-index-current",type:"custom",renderCustom:function(e,t,o){return t<10&&(t=`0${t}`),o<10&&(o=`0${o}`),t+" / "+o}}}),new Swiper(".shares__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:20,breakpoints:{769:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".reviews__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{769:{slidesPerView:"auto",spaceBetween:94}}}),new Swiper(".main-news__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:20}),new Swiper(".team__swiper",{a11y:!1,slidesPerView:"auto",spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{769:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".services-object__swiper",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next--obj",prevEl:".swiper-button-prev--obj"},pagination:{el:".swiper-index-current",type:"custom",renderCustom:function(e,t,o){return t<10&&(t=`0${t}`),o<10&&(o=`0${o}`),t+" / "+o}}}),new Swiper(".news-open__swiper",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-index-current",type:"custom",renderCustom:function(e,t,o){return t<10&&(t=`0${t}`),o<10&&(o=`0${o}`),t+" / "+o}}}),new Swiper(".projects-object__swiper-images",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-index-current",type:"custom",renderCustom:function(e,t,o){return t<10&&(t=`0${t}`),o<10&&(o=`0${o}`),t+" / "+o}}}),new Swiper(".projects-object__swiper-plans",{a11y:!1,slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-index-current",type:"custom",renderCustom:function(e,t,o){return t<10&&(t=`0${t}`),o<10&&(o=`0${o}`),t+" / "+o}}});const f=[...document.querySelectorAll(".history-swiper")].map(((e,t)=>{const o=new Swiper(e,{a11y:!1,slidesPerView:1,allowTouchMove:!1,pagination:{type:"custom",el:".history__dots",clickable:!0,bulletClass:"history__dot",bulletActiveClass:"history__dot--active"},on:{slideChange(){f.filter((e=>e!==o)).forEach((e=>e.slideToLoop(this.realIndex)))}}});return o}));var h,g;if(document.querySelector(".history__dot--active").click(),document.querySelector(".history")&&(h=document.querySelectorAll(".history__dot"),g=document.getElementsByClassName("history__dot--active"),Array.from(h).forEach((function(e,t,o){e.addEventListener("click",(function(e){g.length>0&&g[0]!==this&&g[0].classList.remove("history__dot--active"),this.classList.toggle("history__dot--active")}))}))),document.querySelector(".intro")){const e=document.querySelector(".header");e.nextElementSibling.querySelector(".intro")&&e.classList.add("header-absolute")}const b=document.querySelectorAll(".tab-btn"),E=document.querySelectorAll(".tab-item");b.forEach((function(e){e.addEventListener("click",(function(){let t=e,o=t.getAttribute("data-tab"),r=document.querySelector(o);t.classList.contains("tab-active")||(b.forEach((function(e){e.classList.remove("tab-active")})),E.forEach((function(e){e.classList.remove("tab-active")})),t.classList.add("tab-active"),r.classList.add("tab-active"))}))}));const _=document.querySelectorAll('.btn-up[href*="#"]');for(let e of _)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}));const L=document.getElementById("btn-up");if(window.addEventListener("scroll",(()=>{window.scrollY>=1500?L.classList.add("btn-up-show"):L.classList.remove("btn-up-show")})),document.querySelector(".accardion")&&(document.querySelectorAll(".nav__item-head").forEach((e=>{e.addEventListener("click",(()=>{let t=e.nextElementSibling;t.style.maxHeight?(document.querySelectorAll(".nav__item-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".nav__item-body").forEach((e=>e.closest(".accardion").classList.remove("accardion-show")))):(document.querySelectorAll(".nav__item-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".nav__item-body").forEach((e=>e.closest(".accardion").classList.remove("accardion-show"))),t.style.maxHeight=t.scrollHeight+"px",e.closest(".accardion").classList.add("accardion-show"))}))})),document.querySelectorAll(".accardion-head").forEach((e=>{e.addEventListener("click",(()=>{let t=e.nextElementSibling;t.style.maxHeight?(document.querySelectorAll(".accardion-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".accardion-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show")))):(document.querySelectorAll(".accardion-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".accardion-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show"))),t.style.maxHeight=t.scrollHeight+"px",e.closest(".accardion-item").classList.add("accardion-show"))}))})),document.querySelectorAll(".faq-head").forEach((e=>{e.addEventListener("click",(()=>{let t=e.nextElementSibling;t.style.maxHeight?(document.querySelectorAll(".faq-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".faq-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show")))):(document.querySelectorAll(".faq-body").forEach((e=>e.style.maxHeight=null)),document.querySelectorAll(".faq-body").forEach((e=>e.closest(".accardion-item").classList.remove("accardion-show"))),t.style.maxHeight=t.scrollHeight+"px",e.closest(".accardion-item").classList.add("accardion-show"))}))}))),document.querySelector(".map")){ymaps.ready((function(){let e=new ymaps.Map("map",{center:[59.932684,30.358061],zoom:14}),t=new ymaps.Placemark([59.929984,30.362161],{},{iconLayout:"default#image",iconImageHref:"images/icons/map-marker.svg",iconImageSize:[96,126],iconImageOffset:[-95,-125]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"]),e.geoObjects.add(t)}))}}));